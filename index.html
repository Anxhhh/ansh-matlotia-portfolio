<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ansh Matlotia — Portfolio</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Portfolio of Ansh Matlotia, UI/UX Designer focused on clean, purposeful digital experiences and interface design.">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0f0f0f;
  --text:#eaeaea;
  --muted:#9a9a9a;
}

::selection{background:var(--text);color:var(--bg)}
*{margin:0;padding:0;box-sizing:border-box}

body{
  background:var(--bg);
  color:var(--text);
  font-family:'JetBrains Mono', monospace;
  overflow:hidden;
  -webkit-font-smoothing:antialiased;
}

@media (prefers-reduced-motion: reduce){
  *{animation:none!important;transition:none!important}
}
.paused *{animation-play-state:paused!important}

/* ---------- VIEW SYSTEM (UNCHANGED CORE) ---------- */
.view{
  position:fixed;
  inset:0;
  padding:40px 24px env(safe-area-inset-bottom);
  transform:translateX(100%) translateY(var(--elasticY,0px));
  transition:transform .45s cubic-bezier(.4,0,.2,1);
  will-change:transform;
}
.view.active{
  transform:translateX(0) translateY(var(--elasticY,0px));
}

.container{max-width:900px}
@media(min-width:768px){
  .view{padding:60px 80px}
}

/* ---------- TYPOGRAPHY (UNCHANGED) ---------- */
.name{font-size:14px;letter-spacing:.08em;margin-bottom:24px}
.blink{animation:blinkDash 1.6s infinite}
@keyframes blinkDash{
  0%,45%{opacity:1}
  50%,95%{opacity:0}
  100%{opacity:1}
}

.terminal{
  font-size:13px;
  line-height:1.6;
  color:var(--muted);
  max-width:520px;
  margin-bottom:40px;
}

.list{display:flex;flex-direction:column;gap:18px}
.item{
  font-size:14px;
  letter-spacing:.08em;
  color:var(--muted);
  cursor:pointer;
  width:fit-content;
}
.item:hover{color:var(--text)}

.back{
  font-size:13px;
  color:var(--muted);
  cursor:pointer;
  margin-bottom:40px;
}

h2{font-size:14px;letter-spacing:.12em;margin-bottom:24px}
p{
  font-size:14px;
  line-height:1.7;
  color:var(--muted);
  max-width:560px;
  text-align:justify;
}

/* ---------- iOS EDGE GLOW (VISUAL ONLY) ---------- */
.edge-glow{
  position:fixed;
  top:0;
  left:0;
  width:16px;
  height:100%;
  pointer-events:none;
  opacity:0;
  background:linear-gradient(
    to right,
    rgba(234,234,234,0.18),
    rgba(234,234,234,0.08),
    transparent
  );
  transition:opacity .25s ease;
  z-index:5;
}
.edge-glow.active{opacity:1}

/* ---------- CURSOR (UNCHANGED) ---------- */
.custom-cursor{
  position:fixed;
  width:7px;
  height:16px;
  background:var(--text);
  transform:translate(-50%,-50%);
  pointer-events:none;
  z-index:10;
  opacity:.9;
  animation:caretBlink 1.3s steps(1) infinite;
}
@keyframes caretBlink{
  0%,50%,100%{opacity:1}
  25%,75%{opacity:.25}
}
.custom-cursor.hidden{opacity:0}
@media (hover:none){
  .custom-cursor{display:none}
}
</style>
</head>

<body>

<!-- CONTENT UNCHANGED -->
<div class="view active" id="home">
  <div class="container">
    <div class="name">Ansh Matlotia <span class="blink">_</span></div>
    <div class="terminal" id="terminal"></div>

    <nav class="list">
      <div class="item" onclick="openView('work')">Work</div>
      <div class="item" onclick="openView('about')">About</div>
      <div class="item" onclick="openView('contact')">Contact</div>
    </nav>
  </div>
</div>

<div class="view" id="work">
  <div class="container">
    <div class="back" onclick="goBack()">← Back</div>
    <h2>Work</h2>
  </div>
</div>

<div class="view" id="about">
  <div class="container">
    <div class="back" onclick="goBack()">← Back</div>
    <h2>About</h2>
  </div>
</div>

<div class="view" id="contact">
  <div class="container">
    <div class="back" onclick="goBack()">← Back</div>
    <h2>Contact</h2>
  </div>
</div>

<div class="edge-glow" id="edgeGlow"></div>
<div class="custom-cursor hidden" id="cursor"></div>

<script>
/* ---------- NAVIGATION (UNCHANGED) ---------- */
const stack=['home'];
const views=document.querySelectorAll('.view');

function openView(id){
  views.forEach(v=>v.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  stack.push(id);
}
function goBack(){
  if(stack.length>1){
    stack.pop();
    views.forEach(v=>v.classList.remove('active'));
    document.getElementById(stack.at(-1)).classList.add('active');
  }
}

/* ---------- SAFE iOS ELASTIC + SWIPE BACK ---------- */
if ('ontouchstart' in window) {
  let startX=0,startY=0;
  const edgeGlow=document.getElementById('edgeGlow');

  document.addEventListener('touchstart',e=>{
    const t=e.touches[0];
    startX=t.clientX;
    startY=t.clientY;
  },{passive:true});

  document.addEventListener('touchmove',e=>{
    const t=e.touches[0];
    const dx=t.clientX-startX;
    const dy=t.clientY-startY;
    const active=document.querySelector('.view.active');

    if(!active) return;

    /* EDGE BACK (VISUAL ONLY) */
    if(startX<24 && dx>0 && Math.abs(dx)>Math.abs(dy)){
      edgeGlow.classList.add('active');
      edgeGlow.style.opacity=Math.min(dx/120,1);
      return;
    }

    /* ELASTIC VERTICAL (SAFE) */
    if(Math.abs(dy)>Math.abs(dx)){
      active.style.setProperty('--elasticY', `${dy*0.3}px`);
    }
  },{passive:true});

  document.addEventListener('touchend',e=>{
    const active=document.querySelector('.view.active');
    edgeGlow.classList.remove('active');
    if(active){
      active.style.setProperty('--elasticY','0px');
    }
    if(startX<24 && (e.changedTouches[0].clientX-startX)>80){
      goBack();
    }
  });
}
</script>

</body>
</html>
